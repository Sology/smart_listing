!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("stimulus")):"function"==typeof define&&define.amd?define(["stimulus"],e):(t||self).smartListing=e(t.stimulus)}(this,function(t){function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var r=function(){function t(){}return t.register=function(t,e){this.registryList[t]=e},t.get=function(t){return this.registryList[t]},t}();r.registryList={};var o="beforesend",i="aftercomplete",s={reloadList:function(t,e){if(t&&e)return t.innerHTML=e.innerHTML;throw new Error("Target: "+t+", template: "+e)},remove:function(t){if(t)return t.remove();throw new Error("Target: "+t)}},c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var c=n.prototype;return c.connect=function(){r.register(this.nameValue,this)},c.beforeSend=function(t){var e,n;return console.log("before"),t.detail[0].setRequestHeader("Accept","text/vnd.smart-listing-remote.html"),e=this.element,n=new Event(o),e.dispatchEvent(n),!0},c.performAction=function(t,e,n){switch(t){case"replace":return s.reloadList(e,n);case"remove":return s.remove(e);default:throw new Error("Unknown action: "+t)}},c.update=function(t){var e=this;console.log("update");var n,r,o=t.detail,s=o[0];"OK"===o[1]?(new DOMParser).parseFromString(s.response,"text/html").querySelectorAll("smart-listing-action").forEach(function(t){var n=t.getAttribute("name"),r=t.getAttribute("target"),o=document.getElementById(""+r),i=t.querySelector("template");e.performAction(n,o,i)}):console.error("Status "+s.status),n=this.element,r=new Event(i),n.dispatchEvent(r)},n}(t.Controller);c.values={name:String};var a={controllers:{base:c,tailwind:function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.connect=function(){t.prototype.connect.call(this),console.log("hello from tailwind controller"),this.element.addEventListener(o,function(t){t.target.classList.add("opacity-20","pointer-events-none","transition-opacity")}),this.element.addEventListener(i,function(t){t.target.classList.remove("opacity-20","pointer-events-none")})},n}(c)},registry:r,actions:s};return window.SmartListing=a,a});
//# sourceMappingURL=smart_listing.umd.js.map
